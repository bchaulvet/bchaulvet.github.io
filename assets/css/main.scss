---
---
/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */
@import
    "vendor/breakpoint/breakpoint",
    "themes",
    "theme/variables",
    "include/mixins",
    "vendor/susy/susy",
    "layout/reset",
    "layout/base",
    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",
    "layout/forms",
    "layout/page",
    "layout/archive",
    "layout/sidebar",
    "layout/json_cv",
    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands"
;

@import "academicons.css";  /* imports assets/css/academicons.css */

/* Custom avatar size */
.author__avatar img {
  width: 200px;
  height: 200px;
  object-fit: cover;
  border-radius: 25px !important;
}

/* Reduce bio font size */
.author__bio,
.author__pronouns,
.author__location,
.author__employer,
.author__email,
.author__github {
  font-size: 0.90em !important;
}

/* 1) Smaller page titles */
.page__title {
  /* adjust to taste */
  font-size: 1.5rem;
  line-height: 1.2;
  margin-top: 0.1em;
  margin-bottom: 0.4em;
  font-weight: normal; /* Remove bold from publication titles */
}
@media (max-width: 768px) {
  .page__title { font-size: 1.7rem; }
}

.accent {
  color: #007acc;   // pick your color
  font-weight: 600; // optional
}

/* --- Navigation layout cleanup --- */
.masthead {
  position: fixed;
  top:0; left:0; right:0;
  z-index:3000;
  background:#fff;
  border-bottom:4px solid #2b6cb0;
}

.greedy-nav {
  display:flex;
  align-items:center;
  flex-wrap:nowrap;
}

.greedy-nav .site-title {
  font-size:1rem;
  margin-right:0.9rem;
  white-space:nowrap;
  font-weight: normal; /* Remove bold from site title in masthead */
}

/* More specific override for site title */
.masthead .greedy-nav .site-title,
.masthead__inner-wrap .greedy-nav .site-title {
  font-weight: normal !important;
  font-family: inherit;
}

.greedy-nav .visible-links {
  display:flex;
  flex:1 1 auto;
  align-items:center;
  margin:0;
  padding:0;
  flex-wrap:nowrap;
}

.greedy-nav .visible-links > li {
  list-style:none;
  white-space:nowrap;
}

.greedy-nav .visible-links > li > a {
  padding:0.30rem 0.55rem;
  font-size:0.82rem;
  line-height:1;
  display:inline-block;
}

/* Masthead: larger page titles (menu labels) */
.masthead .greedy-nav .visible-links > li > a {
  font-size: 0.98rem;
  padding: 0.40rem 0.65rem; /* a bit more vertical room */
}

/* Masthead: slightly larger site title */
.masthead .greedy-nav .site-title {
  font-size: 1.15rem;
}

/* Desktop: a touch larger */
@media (min-width: 1024px) {
  .masthead .greedy-nav .visible-links > li > a { font-size: 1.02rem; }
  .masthead .greedy-nav .site-title { font-size: 1.20rem; }
}

/* Mobile: keep compact to avoid wrapping */
@media (max-width: 767.98px) {
  .masthead .greedy-nav .visible-links > li > a {
    font-size: 0.90rem;
    padding: 0.35rem 0.60rem;
  }
}

/* Base language toggle now as outlined box */
.lang-link {
  margin-left:0.75rem;
  background:transparent;          /* changed from solid */
  color:#2b6cb0 !important;        /* default (English target) color */
  padding:0.38rem 0.85rem;
  font-size:0.75rem;
  font-weight:600;
  letter-spacing:0.5px;
  line-height:1.05;
  border-radius:6px;
  text-decoration:none;
  white-space:nowrap;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-height:2rem;
  border:2px solid currentColor;   /* outline */
  transition:background .18s ease,color .18s ease,border-color .18s ease;
}

/* Target-based colors (outlined style) */
#lang-toggle.target-fr,
.lang-link.target-fr {
  color:#2b6cb0 !important;  /* Changed from #b3002d to blue */
  border-color:#2b6cb0;      /* Changed from #b3002d to blue */
  background:rgba(43,108,176,0.10);  /* Changed to blue background */
}
#lang-toggle.target-fr:hover,
.lang-link.target-fr:hover {
  background:#2b6cb0;        /* Changed from #b3002d to blue */
  color:#fff !important;
}

#lang-toggle.target-en,
.lang-link.target-en {
  color:#2b6cb0 !important;
  border-color:#2b6cb0;
  background:rgba(43,108,176,0.10);
}
#lang-toggle.target-en:hover,
.lang-link.target-en:hover {
  background:#2b6cb0;
  color:#fff !important;
}

/* Remove old html[lang] .lang-link color rules (overridden now) */
/* New target-based language toggle colors */
.lang-link.target-fr {
  background:#2b6cb0;        /* Changed from #b3002d to blue */
}
.lang-link.target-fr:hover {
  background:#1f548e;        /* Changed from #7d001f to darker blue */
}
.lang-link.target-en {
  background:#2b6cb0;
}
.lang-link.target-en:hover {
  background:#1f548e;
}

/* Flag toggle adjustments */
.lang-link {
  width: 2.4rem;
  height: 2.4rem;
  padding: 0;                 /* override previous padding */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 3.5rem;         /* flag size */
  line-height: 1;
  border-radius: 8px;
}

.flag-icon { display:inline-block; line-height:1; }
.flag-icon svg {
  width: 2rem;
  height: 1.5rem;
  display:block;
}
/* Optional sharper rendering */
.flag-icon svg { shape-rendering:geometricPrecision; }
@media (max-width:820px){
  .flag-icon svg { width:1.15rem; height:0.85rem; }
}

.visually-hidden {
  position:absolute !important;
  width:1px; height:1px;
  padding:0; margin:-1px;
  overflow:hidden; clip:rect(0 0 0 0);
  white-space:nowrap; border:0;
}

/* Slight hover lift */
.lang-link:hover {
  transform: translateY(-1px);
}

/* Ensure outline variants still apply (reuse existing color classes) */
/* (Existing .lang-link.target-fr / .lang-link.target-en rules above remain unchanged) */

/* Keep body offset just enough for one compact line */
body { 
  padding-top:70px; 
  /* remove previous global left shift */
  margin-left: 1rem !important;
}

/* Remove manual left shifts on content areas to use theme defaults */
.page__content,
.page__inner-wrap,
.archive {
  margin-left: 0.75rem !important;
}

/* Align masthead page titles (menu) with main text column on desktop */
:root {
  /* Adjust this if needed: approx. sidebar width + gutter */
  --content-offset: 300px; /* was 320px */
}

@media (min-width: 1024px) {
  .masthead .greedy-nav .visible-links {
    margin-left: var(--content-offset);
  }
}

/* On smaller screens, no offset */
@media (max-width: 1023.98px) {
  .masthead .greedy-nav .visible-links {
    margin-left: 0;
  }
}

/* Fixed top bar always above content */
/*:root { --masthead-height: 72px; } /* tweak to match your header height */

/* CV subsection titles */
.cv-subtitle {
  font-size: 1.05rem;
  font-weight: 600;
  margin-top: 1.4rem;
  margin-bottom: 0.3rem;
  letter-spacing: .5px;
}

/* --- Language theme variants --- */
html[lang='fr'] .masthead {
  border-bottom-color:#2b6cb0; /* Changed from #b3002d to blue */
  background:#fff;
}
html[lang='fr'] .accent {
  color:#2b6cb0;              /* Changed from #b3002d to blue */
}

html[lang='en'] .masthead {
  border-bottom-color:#2b6cb0;
}
html[lang='en'] .accent {
  color:#2b6cb0;
}

/* Optional: site title subtle color shift */
html[lang='fr'] .site-title { color:#2b6cb0; } /* Changed from #b3002d to blue */
html[lang='en'] .site-title { color:#2b6cb0; }

/* Base language toggle now sized exactly to flag ratio (3:2) */
.lang-link {
  width: 2.7rem;          /* width = 1.5 * height (3:2 ratio) */
  height: 1.8rem;
  padding: 0;
  font-size: 0;           /* prevent inline text spacing artifacts */
  border-radius: 6px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;       /* clip any overflow from aspect scaling */
  line-height: 1;
}

/* Make the SVG fill the full box */
.lang-link .flag-icon,
.lang-link .flag-icon svg {
  width: 100%;
  height: 100%;
  display: block;
}

/* Preserve aspect ratio without letterboxing (cover if ratio differs) */
.lang-link .flag-icon svg {
  object-fit: cover;
}

/* Hover lift still applies */
.lang-link:hover {
  transform: translateY(-1px);
}

/* Mobile: slightly smaller but keep ratio */
@media (max-width: 820px) {
  .lang-link {
    width: 2.25rem;
    height: 1.5rem;
  }
}

/* === Oversized language toggle (final override) === */
.lang-link {
  width: 3.6rem;     /* was 2.7rem */
  height: 2.4rem;    /* was 1.8rem */
  border-width: 3px; /* thicker outline */
  border-radius: 10px;
}

.lang-link .flag-icon svg {
  /* Ensure SVG scales crisply inside larger box */
  width: 100%;
  height: 100%;
}

@media (max-width: 820px) {
  .lang-link {
    width: 3.0rem;
    height: 2.0rem;
    border-width: 2px;
  }
}

/* === Final override: white language toggle box === */
.lang-link,
.lang-link.target-fr,
.lang-link.target-en,
#lang-toggle.target-fr,
#lang-toggle.target-en {
  background:#ffffff !important;
  border-color:#ffffff !important;
  color:inherit; /* keep flag/svg visible */
  box-shadow:none;
}

.lang-link:hover,
.lang-link.target-fr:hover,
.lang-link.target-en:hover {
  background:#ffffff !important;
  transform: translateY(-1px);
}

/* Normalize masthead menu link weight (incl. active/current and any <strong>/<b>) */
.masthead .greedy-nav .visible-links > li > a {
  font-weight: 400 !important;
}
.masthead .greedy-nav .visible-links > li > a strong,
.masthead .greedy-nav .visible-links > li > a b {
  font-weight: inherit !important;
}
.masthead .greedy-nav .visible-links > li.active > a,
.masthead .greedy-nav .visible-links > li.current > a,
.masthead .greedy-nav .visible-links > li.masthead__menu-item--active > a {
  font-weight: 400 !important;
}

/* Hide footer "Follow", "Feed" (existing) and now "Sitemap" */
.page__footer-follow { display: none !important; }
.page__footer-meta .feed,
a.feed,
a[href$="/feed.xml"],
a[href$="feed.xml"] { display: none !important; }

/* Hide footer Sitemap link (existing) */
.page__footer-meta a[href$="/sitemap.xml"],
.page__footer-meta a[href$="sitemap.xml"],
.page__footer-meta .sitemap { display: none !important; }
/* If supported, also hide the list item wrapper */
.page__footer-meta li:has(> a[href$="sitemap.xml"]) { display: none !important; }

/* NEW: hide Sitemap link in author sidebar */
.author__urls a[href$="/sitemap.xml"],
.author__urls a[href$="sitemap.xml"] {
  display: none !important;
}

/* Sidebar: normalize Email/ORCID (author__urls) to match location/employer size */
.author__urls {
  font-size: 0.90em; /* match .author__location/.author__employer */
}
.author__urls li,
.author__urls li a,
.author__urls .label {
  font-size: inherit;
  line-height: 1.25;
}
.author__urls a {
  display: inline-flex;
  align-items: center;
  gap: 0.4em;
}

/* Keep icons same size as text */
.author__urls i,
.author__urls .fa,
.author__urls .ai,
.author__urls svg {
  font-size: 1em !important;
  line-height: 1;
  width: 1.1em;      /* reserve space so text aligns */
  min-width: 1.1em;
}

/* Sidebar author profile: center avatar, bio, and links */
.sidebar .author__avatar {
  float: none !important;
  display: block;
  margin: 0 auto 0.6rem;
  text-align: center;
}
.sidebar .author__avatar img {
  display: inline-block;
}

.sidebar .author__name,
.sidebar .author__content,
.sidebar .author__bio,
.sidebar .author__pronouns,
.sidebar .author__location,
.sidebar .author__employer,
.sidebar .author__email,
.sidebar .author__github {
  text-align: center;
  margin-left: 0;
  margin-right: 0;
}

.sidebar .author__urls {
  text-align: center;
  padding-left: 0;
}
.sidebar .author__urls li {
  display: inline-block;
  margin: 0.15rem 0.4rem;
}
.sidebar .author__urls a {
  justify-content: center;
}

/* Start page content right below the masthead border */
.page { margin-top: 0 !important; }
.page .page__inner-wrap { padding-top: 0 !important; }
.page .page__content { padding-top: 0 !important; }

/* Remove the default top margin on the very first element */
.page .page__content > *:first-child { margin-top: 0 !important; }

/* If the first element is a heading, keep a tiny, consistent gap */
.page .page__content h1:first-child,
.page .page__content h2:first-child,
.page .page__content h3:first-child {
  margin-top: 0.15rem !important;
}

/* Section divider: visible thin line, centered */
.page__content hr.section-divider {
  display: block;
  border: 0 !important;
  height: 2px !important;
  width: 140px !important;       /* adjust to taste */
  background-color: #2b6cb0 !important;
  margin: 1.25rem auto !important;
  padding: 0 !important;
  border-radius: 2px;
  background: #2b6cb0;
  border-radius: 2px;
  margin: 0 auto;
}
